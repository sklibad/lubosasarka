<!DOCTYPE html>
<html lang="cs">
    
<head>
    <meta charset="utf-8"/>
    <title>Šárka &amp; Luboš</title>

    <meta property="og:title" content="Svatba Šárky a Luboše"/>
    <meta property="og:type" content="website"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>

    <link rel="stylesheet" type="text/css" href="style.css"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin=""/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
    
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
    <script src="Control.FullScreen.js"></script>
    <script src="spatial_data.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
    <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
</head>

<body>
    <section class="hero">
        <div class="w-layout-blockcontainer container w-container">
            <div class="w-layout-grid hero-grid">
                <div class="hero-text-wrapper">
                    <h1 class="heading-h1">Šárka &amp; Luboš<br> budeme se brát!</h1>
                    <div class="paragraph-20">Těšíme se, že s Vámi budeme moct prožít náš výjimečný den. Na této webové stránce najdete všechny důležité informace o naší svatbě.</div>
                    <div class="div-block">
                        <a href="rsvp.html" target="_blank" class="primary-button w-button">RSVP</a>
                        <div class="paragraph-18">Prosíme, potvrďte účast do 30. dubna</div>
                    </div>
                </div>
                <div id="w-node-_1e57368d-06ed-f5af-83d9-f44028294b71-0ecbaa10" class="hero-image-wrapper">
                    <div class="hero-image-inner-wrapper">
                        <img src="images/couple.jpg" loading="lazy" sizes="(max-width: 479px) 80vw, (max-width: 767px) 92vw, 94vw" srcset="images/couple.jpg 500w, images/couple.jpg 800w, images/couple.jpg 1024w" alt="" class="hero-image"/>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="RSVP" class="section">
        <div class="w-layout-blockcontainer container w-container">
            <div class="w-layout-grid rsvp-grid">
                <div id="map-container">
                    <div id="map"></div>
                </div>
                <div id="w-node-_6968ddf3-047a-54f0-c8ea-aa8fc86a4699-0ecbaa10" class="rsvp-text-container">
                    <div class="rsvp-title-container">
                        <h2 class="heading-h3">Informace</h2>
                    </div>
                    <div class="rsvp-line"></div>
                    <div class="rsvp-details-container">
                        <div class="text-points-container">
                            <h3 class="heading-h4">Kdy</h3>
                            <div class="paragraph-16">Sobota, 14. června 2025 <br/></div>
                        </div>
                        <div class="text-points-container">
                            <h3 class="heading-h4">Kde</h3>
                            <div class="paragraph-16">Chefparade Statek, Sukorady<br> (10 km z Mladé Boleslavi)</div>
                        </div>
                        <div class="text-points-container">
                            <div class="paragraph-16"><br>Dejte nám prosím vědět, zda se budete moci zúčastnit (RSVP), a to nejpozději do 30. dubna.</div>
                        </div>
                        <a href="rsvp.html" class="primary-button w-button">RSVP</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="Schedule" class="section">
        <div>
            <div class="center-heading-wrapper">
                <h2 class="heading-h2 margin-bottom-24">Program</h2>
            </div>
            <div class="schedule-container">
                <div class="schedule-item">
                    <p>13:00</p>
                    <h2>Svatební obřad</h2>
                </div>
                <div class="schedule-item">
                    <p>14:00</p>
                    <h2>Společné focení</h2>
                </div>
                <div class="schedule-item">
                    <p>15:00</p>
                    <h2>Slavnostní oběd</h2>
                </div>
                <div class="schedule-item">
                    <p>16:00</p>
                    <h2>Focení novomanželů, degustace</h2>
                </div>
                <div class="schedule-item">
                    <p>17:00</p>
                    <h2>Házení kytice, krájení dortu</h2>
                </div>
                <div class="schedule-item">
                    <p>18:00</p>
                    <h2>Večerní raut</h2>
                </div>
                <div class="schedule-item">
                    <p>19:00</p>
                    <h2>První tanec novomanželů</h2>
                </div>
            </div>            
        </div>
    </section>
    <section id="FAQ" class="section">
        <div class="w-layout-blockcontainer container w-container">
            <div class="w-layout-grid faq-component">
                <div class="faq-text-container">
                    <h2 class="heading-h2 margin-bottom-16">Doplňující otázky</h2>
                </div>
                <div class="w-layout-grid faq-list-grid">
                    <div class="faq-accordion">
                        <div data-w-id="f2c8fc8c-6fdb-4ee4-ef9f-26c012071b6f" class="faq-question">
                            <div class="faq-heading">Dresscode</div>
                            <div class="faq-icon-wrapper">
                                <div class="accordion-icon">
                                    <div class="accordion-horizontal-line"></div>
                                    <div class="accordion-vertical-line"></div>
                                </div>
                            </div>
                        </div>
                        <div style="width:100%;height:0px" class="faq-answer">
                            <div class="faq-text-max-container">
                                <div class="paragraph-18">Oblékněte si cokoliv pohodlného, v čem se budete cítit dobře. Pokud byste chtěli ladit v barvách svatby, tady je paletka s inspirací :)
                                    <img src="images/color_palette_edit.jpeg" alt="Svatba Barevná Paleta" class="wedding-palette">
                                </div>
                            </div>
                            <div class="spacer-medium"></div>
                        </div>
                    </div>
                    <div class="faq-accordion">
                        <div data-w-id="f2c8fc8c-6fdb-4ee4-ef9f-26c012071b7c" class="faq-question">
                            <div class="faq-heading">Kdy máme dorazit?</div>
                            <div class="faq-icon-wrapper">
                                <div class="accordion-icon">
                                    <div class="accordion-horizontal-line"></div>
                                    <div class="accordion-vertical-line"></div>
                                </div>
                            </div>
                        </div>
                        <div style="width:100%;height:0px" class="faq-answer">
                            <div class="faq-text-max-container">
                                <div class="paragraph-18">Prosíme o příjezd 1 hodinu před obřadem. Vstup bude umožněn od 11:00.</div>
                            </div>
                            <div class="spacer-medium"></div>
                        </div>
                    </div>
                    <div class="faq-accordion">
                        <div data-w-id="f2c8fc8c-6fdb-4ee4-ef9f-26c012071b89" class="faq-question">
                            <div class="faq-heading">Je zajištěno ubytování?</div>
                            <div class="faq-icon-wrapper">
                                <div class="accordion-icon">
                                    <div class="accordion-horizontal-line"></div>
                                    <div class="accordion-vertical-line"></div>
                                </div>
                            </div>
                        </div>
                        <div style="width:100%;height:0px" class="faq-answer">
                            <div class="faq-text-max-container">
                                <div class="paragraph-18">Pokud máte zájem o ubytování, na místě jsou různé možnosti. Ozvěte se nám prosím a domluvíme se.</div>
                            </div>
                            <div class="spacer-medium"></div>
                        </div>
                    </div>
                    <div class="faq-accordion">
                        <div data-w-id="f2c8fc8c-6fdb-4ee4-ef9f-26c012071b89" class="faq-question">
                            <div class="faq-heading">Kde zaparkovat?</div>
                            <div class="faq-icon-wrapper">
                                <div class="accordion-icon">
                                    <div class="accordion-horizontal-line"></div>
                                    <div class="accordion-vertical-line"></div>
                                </div>
                            </div>
                        </div>
                        <div style="width:100%;height:0px" class="faq-answer">
                            <div class="faq-text-max-container">
                                <div class="paragraph-18">Místa jsou přehledně vyznačena v interaktivní mapce.</div>
                            </div>
                            <div class="spacer-medium"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script type="text/javascript">
        // Function to check if the user is on a mobile device
        function isMobileDevice() {
            return /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
        }

        // Set the zoom level based on device type
        var initialZoom = isMobileDevice() ? 17 : 18;

        var map = L.map('map', {
            fullscreenControl: true,
            fullscreenControlOptions: {
                title: "Open fullscreen",
                titleCancel: "Exit fullscreen"
            }
        }).setView([50.42867912327342, 15.02911998037701], initialZoom);

        var Imagery = L.tileLayer('http://mt0.google.com/vt/lyrs=s&hl=cs&x={x}&y={y}&z={z}', {
        maxZoom: 20,
        opacity: 0.8
        }).addTo(map);

        var GoogleMaps = L.tileLayer('http://mt0.google.com/vt/lyrs=m&hl=cs&x={x}&y={y}&z={z}', {
        maxZoom: 20,
        opacity: 1
        });

        var baseLayers = {
            "Satelitní": Imagery,
            "Silniční": GoogleMaps
        };

        function getCustomIcon(zoom, scale = 1) {
            let size = (20 + zoom * 2) * scale; // Adjust size dynamically based on zoom level

            return L.icon({
                iconUrl: "images/svatba.png",
                iconSize: [size, size], // Adjust width and height
                iconAnchor: [size / 2, size / 2], 
                popupAnchor: [0, -size/2],
                className: "leaflet-marker-icon"
            });
        }

        function getWeight(zoom, defaultWeight) {
            if (zoom == 17){
                return defaultWeight - 3
            } else {
                return defaultWeight
            }
        }

        // Add the GeoJSON layer to the map
        var geoJsonLayer = L.geoJSON(wedding, {
            pointToLayer: function (feature, latlng) {
                let marker = L.marker(latlng, { icon: getCustomIcon(map.getZoom()) });

                // Add popup with URL
                if (feature.properties?.url) {
                    let popupContent = `
                        <b><a href="${feature.properties.url}" target="_blank" class="popup-link">Zde se budeme brát</a></b>`;
                    marker.bindPopup(popupContent);
                }

                // Event: Increase size on hover
                marker.on("mouseover", function () {
                    this.setIcon(getCustomIcon(map.getZoom(), 1.2)); // 1.2x bigger
                });

                // Event: Reset size on mouseout
                marker.on("mouseout", function () {
                    this.setIcon(getCustomIcon(map.getZoom(), 1)); // Back to normal
                });

                return marker;
            }
        }).addTo(map)

        map.on('zoomend', function () {
            let newZoom = map.getZoom();
            geoJsonLayer.eachLayer(function (layer) {
                if (layer instanceof L.Marker) {
                    layer.setIcon(getCustomIcon(newZoom));
                }
            });
        });

        var parkingBorders = L.geoJSON(parking_lines, {
            style: function(feature) {
                return {
                    color: "black",
                    weight: getWeight(map.getZoom(), 9)
                };
            }
        }).addTo(map);

        // Add GeoJSON Layer with Hover Effect and Dynamic Popup
        var parkingColored = L.geoJSON(parking_lines, {
            style: function(feature) {
                return {
                    color: feature.properties.allowed ? "green" : "red",
                    weight: getWeight(map.getZoom(), 6)  // Default line thickness
                };
            },
            onEachFeature: function(feature, layer) {
                // Add event listeners for hover effects
                layer.on({
                    mouseover: function(e) {
                        var layer = e.target;
                        
                        // Increase line thickness on hover
                        layer.setStyle({
                            weight: getWeight(map.getZoom(), 9)
                        });

                        // Determine popup content based on `allowed` property
                        var popupText = feature.properties.allowed ? "Parkování povoleno" : "Parkování zakázáno";

                        // Create a popup at the mouse cursor position
                        var popup = L.popup()
                            .setLatLng(e.latlng)  // Position at cursor location
                            .setContent(popupText)
                            .openOn(map);
                    },
                    mouseout: function(e) {
                        var layer = e.target;
                        
                        // Restore original line thickness
                        layer.setStyle({
                            weight: getWeight(map.getZoom(), 6)
                        });

                        // Close popup when mouse leaves
                        map.closePopup();
                    }
                });
            }
        }).addTo(map);

        // Function to update line thickness dynamically on zoom
        function updateLineWeights() {
            var zoom = map.getZoom();
            parkingBorders.eachLayer(function(layer) {
                layer.setStyle({ weight: getWeight(zoom, 9) });
            });
            parkingColored.eachLayer(function(layer) {
                layer.setStyle({ weight: getWeight(zoom, 6) });
            });
        }

        // Listen for zoom changes and update styles
        map.on("zoomend", updateLineWeights);

        // Add GeoJSON Layer with Hover Effect and Popup at Cursor Location
        var parkingPolygons = L.geoJSON(parking_polygons, {
            style: function(feature) {
                return {
                    color: "black",   // Border color
                    fillColor: "green",  // Fill color
                    fillOpacity: 1, // Default transparency
                    weight: 1.5
                };
            },
            onEachFeature: function(feature, layer) {
                layer.on({
                    mouseover: function(e) {
                        var layer = e.target;

                        // Change opacity on hover
                        layer.setStyle({
                            weight: 0
                        });

                        // Create a popup at the cursor position
                        var popup = L.popup()
                            .setLatLng(e.latlng)  // Position at cursor location
                            .setContent("Parkování povoleno")
                            .openOn(map);
                    },
                    mouseout: function(e) {
                        var layer = e.target;

                        // Restore opacity
                        layer.setStyle({
                            weight: 1.5
                        });

                        // Close the popup when the mouse leaves
                        map.closePopup();
                    }
                });
            }
        }).addTo(map);

        // Function to update layers based on zoom level
        function updateLayers() {
            if (map.getZoom() >= initialZoom) {
                if (!map.hasLayer(parkingBorders)) map.addLayer(parkingBorders);
                if (!map.hasLayer(parkingColored)) map.addLayer(parkingColored);
                if (!map.hasLayer(parkingPolygons)) map.addLayer(parkingPolygons);
            } else {
                if (map.hasLayer(parkingBorders)) map.removeLayer(parkingBorders);
                if (map.hasLayer(parkingColored)) map.removeLayer(parkingColored);
                if (map.hasLayer(parkingPolygons)) map.removeLayer(parkingPolygons);
            }
        }

        // Listen for zoom changes
        map.on("zoomend", updateLayers);

        updateLayers();

        var overlayControl = L.control({ position: 'topright' });

        overlayControl.onAdd = function (map) {
            var div = L.DomUtil.create('div', 'info legend');

            return div;
        };

        overlayControl.addTo(map);
        L.control.layers(baseLayers).addTo(map);
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const faqItems = document.querySelectorAll(".faq-accordion");
        
            faqItems.forEach(item => {
                const question = item.querySelector(".faq-question");
                const answer = item.querySelector(".faq-answer");
                const verticalLine = item.querySelector(".accordion-vertical-line");
        
                question.addEventListener("click", function() {
                    const isOpen = answer.style.height !== "0px";
        
                    // Close all answers first
                    faqItems.forEach(otherItem => {
                        otherItem.querySelector(".faq-answer").style.height = "0px";
                        otherItem.querySelector(".accordion-vertical-line").style.transform = "rotate(0deg)";
                    });
        
                    // Toggle current answer
                    if (!isOpen) {
                        answer.style.height = answer.scrollHeight + "px"; // Expand answer
                        verticalLine.style.transform = "rotate(90deg)"; // Rotate plus sign
                    }
                });
            });
        });
    </script>
</body>
</html>